.container {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
  transition: background-color 1s ease;
}

// ═══════════════════════════════════════
// Weather-specific background tints
// ═══════════════════════════════════════
.clear {
  background: transparent;
}

.clouds {
  background: rgba(180, 180, 200, 0.03);
}

.rain {
  background: rgba(100, 120, 180, 0.05);
}

.snow {
  background: rgba(200, 210, 240, 0.06);
}

.thunder {
  background: rgba(80, 70, 120, 0.06);
}

.mist {
  background: rgba(180, 190, 200, 0.05);
}

// ═══════════════════════════════════════
// Particle base
// ═══════════════════════════════════════
.particle {
  position: absolute;
  user-select: none;
  will-change: transform, opacity;
}

// ═══════════════════════════════════════
// Clear: ゆっくりふわふわ
// ═══════════════════════════════════════
.particle_clear {
  color: $color-lavender;
  opacity: 0.25;
  animation: drift ease-in-out infinite;

  &:nth-child(odd) {
    color: $color-sakura;
  }

  &:nth-child(3n) {
    color: $color-cyan;
    opacity: 0.18;
  }
}

// ═══════════════════════════════════════
// Clouds: ゆったりと横に流れる
// ═══════════════════════════════════════
.particle_clouds {
  color: $color-gray;
  opacity: 0.15;
  animation: cloud-drift linear infinite;

  &:nth-child(odd) {
    color: $color-lavender;
    opacity: 0.12;
  }
}

// ═══════════════════════════════════════
// Rain: 上から下に流れる
// ═══════════════════════════════════════
.particle_rain {
  color: $color-blue;
  opacity: 0.2;
  animation: rain-fall linear infinite;

  &:nth-child(odd) {
    color: $color-cyan;
    opacity: 0.15;
  }
}

// ═══════════════════════════════════════
// Snow: ゆらゆら降る
// ═══════════════════════════════════════
.particle_snow {
  color: $color-lavender;
  opacity: 0.3;
  animation: snow-fall ease-in-out infinite;

  &:nth-child(odd) {
    color: $color-white;
  }

  &:nth-child(3n) {
    color: $color-sakura;
    opacity: 0.2;
  }
}

// ═══════════════════════════════════════
// Thunder: 点滅しながら漂う
// ═══════════════════════════════════════
.particle_thunder {
  color: $color-purple;
  opacity: 0.2;
  animation: thunder-flash ease-in-out infinite;

  &:nth-child(3n) {
    color: $color-orange;
  }
}

// ═══════════════════════════════════════
// Mist: ぼんやり漂う
// ═══════════════════════════════════════
.particle_mist {
  color: $color-gray;
  opacity: 0.1;
  animation: mist-drift ease-in-out infinite;
}

// ═══════════════════════════════════════
// Keyframes
// ═══════════════════════════════════════

@keyframes drift {
  0%,
  100% {
    transform: translateY(0) translateX(0) rotate(0deg);
    opacity: 0.15;
  }
  25% {
    transform: translateY(-20px) translateX(10px) rotate(5deg);
    opacity: 0.3;
  }
  50% {
    transform: translateY(-8px) translateX(-8px) rotate(-3deg);
    opacity: 0.2;
  }
  75% {
    transform: translateY(-25px) translateX(12px) rotate(4deg);
    opacity: 0.28;
  }
}

@keyframes cloud-drift {
  0% {
    transform: translateX(-20px);
    opacity: 0;
  }
  10% {
    opacity: 0.15;
  }
  90% {
    opacity: 0.15;
  }
  100% {
    transform: translateX(80px);
    opacity: 0;
  }
}

@keyframes rain-fall {
  0% {
    transform: translateY(-20px) translateX(0);
    opacity: 0;
  }
  10% {
    opacity: 0.25;
  }
  90% {
    opacity: 0.25;
  }
  100% {
    transform: translateY(100vh) translateX(-15px);
    opacity: 0;
  }
}

@keyframes snow-fall {
  0% {
    transform: translateY(-10px) translateX(0) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 0.3;
  }
  50% {
    transform: translateY(50vh) translateX(20px) rotate(180deg);
    opacity: 0.25;
  }
  90% {
    opacity: 0.2;
  }
  100% {
    transform: translateY(100vh) translateX(-10px) rotate(360deg);
    opacity: 0;
  }
}

@keyframes thunder-flash {
  0%,
  100% {
    transform: translateY(0);
    opacity: 0.1;
  }
  15% {
    opacity: 0.5;
  }
  20% {
    opacity: 0.1;
  }
  50% {
    transform: translateY(-15px);
    opacity: 0.25;
  }
  80% {
    opacity: 0.4;
  }
  85% {
    opacity: 0.1;
  }
}

@keyframes mist-drift {
  0%,
  100% {
    transform: translateX(0) scale(1);
    opacity: 0.06;
  }
  50% {
    transform: translateX(30px) scale(1.3);
    opacity: 0.12;
  }
}
